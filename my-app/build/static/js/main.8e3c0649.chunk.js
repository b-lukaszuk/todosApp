(this.webpackJsonptodosApp=this.webpackJsonptodosApp||[]).push([[0],{29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n.n(o),s=n(21),a=n.n(s),i=n(9),l=(n(29),n(2)),d=n(5),j=o.createContext();function u(e){var t=e.children,n=o.useState(!1),r=Object(d.a)(n,2),s=r[0],a=r[1],i=Object(l.g)();var u={isAuthenticated:s,login:function(){i.replace("/todos"),a(!0)},logout:function(){i.replace("/"),a(!1)}};return Object(c.jsx)(j.Provider,{value:u,children:t})}n(35);var b=function(e){return Object(c.jsx)("button",{className:e.className,onClick:function(){return e.onClick()},children:e.btnText})};n(36);var h=function(e){var t=Object(o.useState)(""),n=Object(d.a)(t,2),r=n[0],s=n[1],a=Object(o.useState)(""),i=Object(d.a)(a,2),l=i[0],u=i[1],h=Object(o.useContext)(j).login;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"centered-div",children:[Object(c.jsx)("h2",{children:"Enter Your data below and go to Your TODOS"}),Object(c.jsxs)("fieldset",{children:[Object(c.jsx)("legend",{children:"Your name"}),Object(c.jsx)("input",{maxLength:"18",placeholder:"Enter Your Name",type:"text",value:r,onChange:function(e){s(e.target.value)},required:!0})]}),Object(c.jsxs)("fieldset",{children:[Object(c.jsx)("legend",{children:"Your Password"}),Object(c.jsx)("input",{maxLength:"18",placeholder:"Enter Your password",type:"password",required:!0,value:l,onChange:function(e){u(e.target.value)}})]}),Object(c.jsx)("br",{})]})}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(b,{className:"normalBut",onClick:function(){""!==r.trim()&&"1234"===l?h():alert("Incorrect user name or password")},btnText:"Log In"})}),Object(c.jsxs)("div",{class:"centered-div",children:[Object(c.jsx)("p",{children:"Please be informed that:"}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["once You are logged-in the page may dowload mock todos from"," ",Object(c.jsx)("a",{href:"https://jsonplaceholder.typicode.com/users/1/todos",children:"This web page"})]}),Object(c.jsxs)("li",{children:["once You are logged-in the page may read todos from"," ",Object(c.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage/",children:"localStorage"})]}),Object(c.jsxs)("li",{children:["once You are logged-in the page will store the todos in"," ",Object(c.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage/",children:"localStorage"})]})]}),Object(c.jsx)("p",{children:"If You don't want any of this to happen then don't log in and leave the page"})]})]})};function O(e,t){var n=JSON.parse(window.localStorage.getItem(e));return null!==n?n:t}function x(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var c=Object(d.a)(n[t],2),o=c[0],r=c[1];window.localStorage.setItem(o,JSON.stringify(r))}}function f(e){var t=JSON.parse(window.localStorage.getItem(e));return null!==t&&0!==t.length}n(37);var p=function(){var e=Object(l.h)().id,t=parseInt(e),n=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null}(t,O("todos",[]));return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("br",{})," ",Object(c.jsx)("br",{}),null===n?Object(c.jsx)("div",{className:"centered-div",children:Object(c.jsxs)("p",{children:["No task of id: ",t," found"]})}):Object(c.jsxs)("div",{className:"centered-div",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"ID:"})," ",n.id]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Full Name:"})," ",n.name]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("b",{children:"Completed:"})," ",n.completed?"Yes":"No"]})]})]})},m=n(18),g=n.n(m),v=n(23),C=n(19),k=n(4);n(39);var T=function(e){return Object(c.jsx)("input",{name:"",maxLength:e.maxLength,placeholder:e.placeholder,type:"text",value:e.value,onChange:function(t){return e.onChange(t)}})};var S=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(T,{maxLength:"18",placeholder:"add task description...",value:e.value,onChange:function(t){return e.onChangeInput(t)},required:!0}),"\xa0",Object(c.jsx)(b,{className:"normalBut",onClick:function(){return e.onClickButton(e.value)},btnText:"Add to the list"})]})};n(40);var N=function(e){return Object(c.jsx)("input",{name:"",type:"checkbox",checked:e.checked,onChange:function(){return e.onChange()}})};var w=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(N,{checked:e.checked,onChange:function(){return e.onChange()}})," ",Object(c.jsxs)("span",{children:[e.filterMessage," "]})]})};var A=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:"Sort by task description"}),"\xa0",Object(c.jsx)(b,{className:"normalBut",onClick:function(){return e.onClick()},btnText:e.butMessage})]})};var y=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Todo list"}),Object(c.jsx)(S,{value:e.adderTaskToAdd,onChangeInput:e.adderUpdateTaskToAdd,onClickButton:e.adderAddTaskToList}),Object(c.jsx)("br",{}),Object(c.jsx)(b,{className:"remBut",onClick:e.remAllBtnRemAllTasks,btnText:"\u2716 Remove all tasks from the list"}),Object(c.jsx)("br",{})," ",Object(c.jsx)("br",{}),Object(c.jsx)(A,{onClick:e.sorterSortTasks,butMessage:e.sorterSortOrder}),Object(c.jsx)("br",{}),Object(c.jsx)(w,{filterMessage:e.filter1Msg,checked:e.filter1Checked,onChange:e.filter1OnChange}),Object(c.jsx)(w,{filterMessage:e.filter2Msg,checked:e.filter2Checked,onChange:e.filter2OnChange}),Object(c.jsx)("br",{})]})};n(41);function I(e,t){var n=t-3;return e.length<n?e:e.slice(0,n)+"..."}var B=function(e){var t=e.item.name,n=e.item.completed,o=e.item.id;return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{className:"name",children:[Object(c.jsx)(i.b,{to:"/todos/".concat(o),children:Object(c.jsx)("span",{title:"click to see details",children:"\u24d8"})}),"\xa0\xa0",I(t,20)]}),Object(c.jsx)("td",{className:"status",children:Object(c.jsx)(N,{checked:n,onChange:function(){return e.toggleCompleted(o)}})}),Object(c.jsx)("td",{children:Object(c.jsx)(b,{className:"remBut",onClick:function(){return e.onClickButton(o)},btnText:"\u2716 remove"})})]})};n(42);var L=function(e){var t=e.todos;return Object(c.jsxs)("div",{className:"TodoList",children:[Object(c.jsx)("h2",{children:e.listName}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"name",children:"task"}),Object(c.jsx)("th",{className:"status",children:"completed?"}),Object(c.jsx)("th",{children:"remove from list"})]})}),Object(c.jsx)("tbody",{children:t.map((function(t){return function(e,t,n){return Object(c.jsx)(B,{item:e,toggleCompleted:t,onClickButton:n},e.id)}(t,e.toggleCompleted,e.onClickButton)}))})]}),Object(c.jsx)("br",{})]})};var M=function(){var e=Object(o.useContext)(j).logout,t={todos:O("todos",[])},n="https://jsonplaceholder.typicode.com/users/1/todos",r=Object(o.useReducer)((function(e,t){switch(t.type){case"todosLoad":return Object(k.a)(Object(k.a)({},e),{},{todos:t.payload});case"todosAddOne":return Object(k.a)(Object(k.a)({},e),{},{todos:[].concat(Object(C.a)(e.todos),[t.payload])});case"todosRemoveOne":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.todoId}))});case"todosRemoveAll":return Object(k.a)(Object(k.a)({},e),{},{todos:[]});case"todosToggleCompletedOne":return Object(k.a)(Object(k.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.todoId?Object(k.a)(Object(k.a)({},e),{},{completed:!e.completed}):e}))});case"todosSortAll":return Object(k.a)(Object(k.a)({},e),{},{todos:t.sortAsc?e.todos.sort((function(e,t){return e.name.localeCompare(t.name)})):e.todos.sort((function(e,t){return t.name.localeCompare(e.name)}))});default:return e}}),t),s=Object(d.a)(r,2),a=s[0],i=s[1];Object(o.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var t,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,o=c.map((function(e){return{id:e.id,name:e.title,completed:e.completed}})),f("todos")?console.log("preserving todos from localStorage"):(console.log("fetching todos from url"),i({type:"todosLoad",payload:o}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){x({todos:a.todos})}),[a]);var l=Object(o.useState)(""),u=Object(d.a)(l,2),h=u[0],p=u[1],m=Object(o.useState)(!0),T=Object(d.a)(m,2),S=T[0],N=T[1],w=Object(o.useState)(O("showCompleted",!0)),A=Object(d.a)(w,2),I=A[0],B=A[1];Object(o.useEffect)((function(){x({showCompleted:I})}),[I]);var M=Object(o.useState)(O("showPending",!0)),P=Object(d.a)(M,2),Y=P[0],E=P[1];Object(o.useEffect)((function(){x({showPending:Y})}),[Y]);var R=function(e){i({type:"todosToggleCompletedOne",todoId:e})},F=function(e){i({type:"todosRemoveOne",todoId:e})};return Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:"Welcome to our TODO app! "}),Object(c.jsx)(b,{className:"normalBut",btnText:"logout",onClick:function(){e()}}),Object(c.jsx)(y,{adderTaskToAdd:h,adderUpdateTaskToAdd:function(e){p(e.target.value)},adderAddTaskToList:function(e){if(""===e.trim())alert("please provide task description");else if(e.trim().match(/[a-zA-Z]+/)){var t=function(e){var t=e.map((function(e){return e.id}));return(0===t.length?0:Math.max.apply(Math,Object(C.a)(t)))+1}(a.todos);i({type:"todosAddOne",payload:{id:t,name:e.trim(),completed:!1}})}else alert("Task title must contain at least 1 alphabetic character");p("")},remAllBtnRemAllTasks:function(){i({type:"todosRemoveAll"})},sorterSortTasks:function(){i({type:"todosSortAll",sortAsc:S}),N(!S)},sorterSortOrder:S?"A to Z":"Z to A",filter1Msg:"Show Completed",filter1Checked:I,filter1OnChange:function(){B(!I)},filter2Msg:"Show Pending",filter2Checked:Y,filter2OnChange:function(){E(!Y)}}),I&&Object(c.jsx)(L,{listName:"Completed tasks:",todos:a.todos.filter((function(e){return e.completed})),toggleCompleted:R,onClickButton:F}),Object(c.jsx)("br",{}),Y&&Object(c.jsx)(L,{listName:"Pending tasks:",todos:a.todos.filter((function(e){return!e.completed})),toggleCompleted:R,onClickButton:F})]})};var P=function(e){var t=function(e){var t=e.children;return r.a.useContext(j).isAuthenticated?t:Object(c.jsx)(l.a,{to:{pathname:"/login"}})};return Object(c.jsx)(i.a,{children:Object(c.jsx)(u,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",children:Object(c.jsx)(h,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/login",children:Object(c.jsx)(h,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/todos",children:Object(c.jsx)(t,{children:Object(c.jsx)(M,{})})}),Object(c.jsx)(l.b,{exact:!0,path:"/todos/:id",children:Object(c.jsx)(t,{children:Object(c.jsx)(p,{})})}),Object(c.jsx)(l.b,{path:"*",children:function(){return"404 NOT FOUND"}})]})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),r(e),s(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(i.a,{children:Object(c.jsx)(P,{})})}),document.getElementById("root")),Y()}},[[43,1,2]]]);
//# sourceMappingURL=main.8e3c0649.chunk.js.map